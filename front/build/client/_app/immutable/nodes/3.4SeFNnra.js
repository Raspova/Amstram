import{s as be,e as B,a as S,c as I,b as M,f as i,g as V,l as K,m as L,i as _,h as O,o as ve,p as Q,q as _e,t as U,d as R,r as J,j as q,u as we}from"../chunks/scheduler.B2C2-Lbn.js";import{S as ke,i as Ce,c as T,a as A,m as y,t as g,b,d as D,g as me,e as de}from"../chunks/index.5kfQOys3.js";import{H as Te,e as W}from"../chunks/Header.FOVjw8xk.js";import{g as oe}from"../chunks/entry.Ci3JGWsG.js";import{g as Ae,a as ye,u as De,i as fe}from"../chunks/contenu.DEuD0mMw.js";import{T as Ee,a as Se,b as Ve,c as ge,d as Oe,e as H,A as Be,B as he}from"../chunks/table-row.1SlMlaXM.js";import{A as Ie}from"../chunks/aos.CJF53SJF.js";function $e(o,e,s){const t=o.slice();return t[15]=e[s],t}function ce(o,e,s){const t=o.slice();return t[18]=e[s],t}function Le(o){let e,s,t=o[18]+"",l,a,r,$,f,p,w;r=new Be({props:{class:"w-4 h-4"}});function m(){return o[6](o[18])}return{c(){e=B("button"),s=B("span"),l=U(t),a=S(),T(r.$$.fragment),$=S(),this.h()},l(d){e=I(d,"BUTTON",{class:!0});var u=M(e);s=I(u,"SPAN",{});var k=M(s);l=R(k,t),k.forEach(i),a=V(u),A(r.$$.fragment,u),u.forEach(i),$=V(d),this.h()},h(){L(e,"class","flex items-center space-x-1 w-full")},m(d,u){_(d,e,u),O(e,s),O(s,l),O(e,a),y(r,e,null),_(d,$,u),f=!0,p||(w=J(e,"click",m),p=!0)},p(d,u){o=d},i(d){f||(g(r.$$.fragment,d),f=!0)},o(d){b(r.$$.fragment,d),f=!1},d(d){d&&(i(e),i($)),D(r),p=!1,w()}}}function ie(o){let e,s;return e=new Oe({props:{class:"text-gray-300 hover:text-white",$$slots:{default:[Le]},$$scope:{ctx:o}}}),{c(){T(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,l){y(e,t,l),s=!0},p(t,l){const a={};l&2097152&&(a.$$scope={dirty:l,ctx:t}),e.$set(a)},i(t){s||(g(e.$$.fragment,t),s=!0)},o(t){b(e.$$.fragment,t),s=!1},d(t){D(e,t)}}}function Ne(o){let e,s,t=W(Object.keys(o[2])),l=[];for(let r=0;r<t.length;r+=1)l[r]=ie(ce(o,t,r));const a=r=>b(l[r],1,1,()=>{l[r]=null});return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=Q()},l(r){for(let $=0;$<l.length;$+=1)l[$].l(r);e=Q()},m(r,$){for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(r,$);_(r,e,$),s=!0},p(r,$){if($&12){t=W(Object.keys(r[2]));let f;for(f=0;f<t.length;f+=1){const p=ce(r,t,f);l[f]?(l[f].p(p,$),g(l[f],1)):(l[f]=ie(p),l[f].c(),g(l[f],1),l[f].m(e.parentNode,e))}for(me(),f=t.length;f<l.length;f+=1)a(f);de()}},i(r){if(!s){for(let $=0;$<t.length;$+=1)g(l[$]);s=!0}},o(r){l=l.filter(Boolean);for(let $=0;$<l.length;$+=1)b(l[$]);s=!1},d(r){r&&i(e),_e(l,r)}}}function Me(o){let e,s;return e=new ge({props:{$$slots:{default:[Ne]},$$scope:{ctx:o}}}),{c(){T(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,l){y(e,t,l),s=!0},p(t,l){const a={};l&2097152&&(a.$$scope={dirty:l,ctx:t}),e.$set(a)},i(t){s||(g(e.$$.fragment,t),s=!0)},o(t){b(e.$$.fragment,t),s=!1},d(t){D(e,t)}}}function Ue(o){let e,s=o[15].depart+"",t;return{c(){e=B("div"),t=U(s),this.h()},l(l){e=I(l,"DIV",{class:!0});var a=M(e);t=R(a,s),a.forEach(i),this.h()},h(){L(e,"class","bg-gray-800/30 p-3 rounded-lg")},m(l,a){_(l,e,a),O(e,t)},p(l,a){a&2&&s!==(s=l[15].depart+"")&&q(t,s)},d(l){l&&i(e)}}}function Re(o){let e,s=o[15].arrival+"",t;return{c(){e=B("div"),t=U(s),this.h()},l(l){e=I(l,"DIV",{class:!0});var a=M(e);t=R(a,s),a.forEach(i),this.h()},h(){L(e,"class","bg-gray-800/30 p-3 rounded-lg")},m(l,a){_(l,e,a),O(e,t)},p(l,a){a&2&&s!==(s=l[15].arrival+"")&&q(t,s)},d(l){l&&i(e)}}}function je(o){let e=G(o[15].disponibility)+"",s;return{c(){s=U(e)},l(t){s=R(t,e)},m(t,l){_(t,s,l)},p(t,l){l&2&&e!==(e=G(t[15].disponibility)+"")&&q(s,e)},d(t){t&&i(s)}}}function He(o){let e=o[15].ownerContact+"",s;return{c(){s=U(e)},l(t){s=R(t,e)},m(t,l){_(t,s,l)},p(t,l){l&2&&e!==(e=t[15].ownerContact+"")&&q(s,e)},d(t){t&&i(s)}}}function Pe(o){let e,s=o[15].vType+"",t;return{c(){e=B("span"),t=U(s),this.h()},l(l){e=I(l,"SPAN",{class:!0});var a=M(e);t=R(a,s),a.forEach(i),this.h()},h(){L(e,"class","px-2 py-1 rounded-full bg-gray-700 text-sm")},m(l,a){_(l,e,a),O(e,t)},p(l,a){a&2&&s!==(s=l[15].vType+"")&&q(t,s)},d(l){l&&i(e)}}}function qe(o){let e=o[15].vMark+"",s;return{c(){s=U(e)},l(t){s=R(t,e)},m(t,l){_(t,s,l)},p(t,l){l&2&&e!==(e=t[15].vMark+"")&&q(s,e)},d(t){t&&i(s)}}}function ze(o){let e=o[15].price+"",s;return{c(){s=U(e)},l(t){s=R(t,e)},m(t,l){_(t,s,l)},p(t,l){l&2&&e!==(e=t[15].price+"")&&q(s,e)},d(t){t&&i(s)}}}function Fe(o){let e=(fe[o[15].status]||"À traiter")+"",s;return{c(){s=U(e)},l(t){s=R(t,e)},m(t,l){_(t,s,l)},p(t,l){l&2&&e!==(e=(fe[t[15].status]||"À traiter")+"")&&q(s,e)},d(t){t&&i(s)}}}function ue(o){let e,s,t="Accepter",l,a,r="Annuler",$,f,p="Completer",w,m;function d(){return o[8](o[15])}function u(){return o[9](o[15])}function k(){return o[10](o[15])}return{c(){e=B("div"),s=B("button"),s.textContent=t,l=S(),a=B("button"),a.textContent=r,$=S(),f=B("button"),f.textContent=p,this.h()},l(v){e=I(v,"DIV",{class:!0});var C=M(e);s=I(C,"BUTTON",{class:!0,"data-svelte-h":!0}),K(s)!=="svelte-c7ssbp"&&(s.textContent=t),l=V(C),a=I(C,"BUTTON",{class:!0,"data-svelte-h":!0}),K(a)!=="svelte-1bky2g6"&&(a.textContent=r),$=V(C),f=I(C,"BUTTON",{class:!0,"data-svelte-h":!0}),K(f)!=="svelte-cqp431"&&(f.textContent=p),C.forEach(i),this.h()},h(){L(s,"class","w-full px-4 py-2 text-left hover:bg-gray-700 transition-colors"),L(a,"class","w-full px-4 py-2 text-left hover:bg-gray-700 transition-colors"),L(f,"class","w-full px-4 py-2 text-left hover:bg-gray-700 transition-colors"),L(e,"class","absolute top-full left-0 mt-1 bg-gray-800 border border-gray-700 rounded-md shadow-lg overflow-hidden z-10")},m(v,C){_(v,e,C),O(e,s),O(e,l),O(e,a),O(e,$),O(e,f),w||(m=[J(s,"click",d),J(a,"click",u),J(f,"click",k)],w=!0)},p(v,C){o=v},d(v){v&&i(e),w=!1,we(m)}}}function Ge(o){let e,s,t,l;function a(...$){return o[7](o[15],...$)}s=new he({props:{variant:"outline",size:"sm",class:"bg-gray-800/50 border-gray-700 hover:bg-gray-700 w-full",$$slots:{default:[Fe]},$$scope:{ctx:o}}}),s.$on("click",a);let r=o[0]===o[15].$id&&ue(o);return{c(){e=B("div"),T(s.$$.fragment),t=S(),r&&r.c(),this.h()},l($){e=I($,"DIV",{class:!0});var f=M(e);A(s.$$.fragment,f),t=V(f),r&&r.l(f),f.forEach(i),this.h()},h(){L(e,"class","relative")},m($,f){_($,e,f),y(s,e,null),O(e,t),r&&r.m(e,null),l=!0},p($,f){o=$;const p={};f&2097154&&(p.$$scope={dirty:f,ctx:o}),s.$set(p),o[0]===o[15].$id?r?r.p(o,f):(r=ue(o),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},i($){l||(g(s.$$.fragment,$),l=!0)},o($){b(s.$$.fragment,$),l=!1},d($){$&&i(e),D(s),r&&r.d()}}}function Ke(o){let e=G(o[15].$createdAt)+"",s;return{c(){s=U(e)},l(t){s=R(t,e)},m(t,l){_(t,s,l)},p(t,l){l&2&&e!==(e=G(t[15].$createdAt)+"")&&q(s,e)},d(t){t&&i(s)}}}function Je(o){let e=G(o[15].$updatedAt)+"",s;return{c(){s=U(e)},l(t){s=R(t,e)},m(t,l){_(t,s,l)},p(t,l){l&2&&e!==(e=G(t[15].$updatedAt)+"")&&q(s,e)},d(t){t&&i(s)}}}function Qe(o){let e;return{c(){e=U("Voir Détails")},l(s){e=R(s,"Voir Détails")},m(s,t){_(s,e,t)},d(s){s&&i(e)}}}function We(o){let e,s;function t(){return o[11](o[15])}return e=new he({props:{class:"bg-blue-500 text-white",$$slots:{default:[Qe]},$$scope:{ctx:o}}}),e.$on("click",t),{c(){T(e.$$.fragment)},l(l){A(e.$$.fragment,l)},m(l,a){y(e,l,a),s=!0},p(l,a){o=l;const r={};a&2097152&&(r.$$scope={dirty:a,ctx:o}),e.$set(r)},i(l){s||(g(e.$$.fragment,l),s=!0)},o(l){b(e.$$.fragment,l),s=!1},d(l){D(e,l)}}}function Xe(o){let e,s,t,l,a,r,$,f,p,w,m,d,u,k,v,C,N,h,E,j,P,z,F;return e=new H({props:{class:"min-w-[250px] p-4",$$slots:{default:[Ue]},$$scope:{ctx:o}}}),t=new H({props:{class:"min-w-[250px] p-4",$$slots:{default:[Re]},$$scope:{ctx:o}}}),a=new H({props:{$$slots:{default:[je]},$$scope:{ctx:o}}}),$=new H({props:{$$slots:{default:[He]},$$scope:{ctx:o}}}),p=new H({props:{$$slots:{default:[Pe]},$$scope:{ctx:o}}}),m=new H({props:{$$slots:{default:[qe]},$$scope:{ctx:o}}}),u=new H({props:{$$slots:{default:[ze]},$$scope:{ctx:o}}}),v=new H({props:{$$slots:{default:[Ge]},$$scope:{ctx:o}}}),N=new H({props:{$$slots:{default:[Ke]},$$scope:{ctx:o}}}),E=new H({props:{$$slots:{default:[Je]},$$scope:{ctx:o}}}),P=new H({props:{$$slots:{default:[We]},$$scope:{ctx:o}}}),{c(){T(e.$$.fragment),s=S(),T(t.$$.fragment),l=S(),T(a.$$.fragment),r=S(),T($.$$.fragment),f=S(),T(p.$$.fragment),w=S(),T(m.$$.fragment),d=S(),T(u.$$.fragment),k=S(),T(v.$$.fragment),C=S(),T(N.$$.fragment),h=S(),T(E.$$.fragment),j=S(),T(P.$$.fragment),z=S()},l(n){A(e.$$.fragment,n),s=V(n),A(t.$$.fragment,n),l=V(n),A(a.$$.fragment,n),r=V(n),A($.$$.fragment,n),f=V(n),A(p.$$.fragment,n),w=V(n),A(m.$$.fragment,n),d=V(n),A(u.$$.fragment,n),k=V(n),A(v.$$.fragment,n),C=V(n),A(N.$$.fragment,n),h=V(n),A(E.$$.fragment,n),j=V(n),A(P.$$.fragment,n),z=V(n)},m(n,c){y(e,n,c),_(n,s,c),y(t,n,c),_(n,l,c),y(a,n,c),_(n,r,c),y($,n,c),_(n,f,c),y(p,n,c),_(n,w,c),y(m,n,c),_(n,d,c),y(u,n,c),_(n,k,c),y(v,n,c),_(n,C,c),y(N,n,c),_(n,h,c),y(E,n,c),_(n,j,c),y(P,n,c),_(n,z,c),F=!0},p(n,c){const X={};c&2097154&&(X.$$scope={dirty:c,ctx:n}),e.$set(X);const Y={};c&2097154&&(Y.$$scope={dirty:c,ctx:n}),t.$set(Y);const Z={};c&2097154&&(Z.$$scope={dirty:c,ctx:n}),a.$set(Z);const x={};c&2097154&&(x.$$scope={dirty:c,ctx:n}),$.$set(x);const ee={};c&2097154&&(ee.$$scope={dirty:c,ctx:n}),p.$set(ee);const te={};c&2097154&&(te.$$scope={dirty:c,ctx:n}),m.$set(te);const le={};c&2097154&&(le.$$scope={dirty:c,ctx:n}),u.$set(le);const se={};c&2097155&&(se.$$scope={dirty:c,ctx:n}),v.$set(se);const re={};c&2097154&&(re.$$scope={dirty:c,ctx:n}),N.$set(re);const ne={};c&2097154&&(ne.$$scope={dirty:c,ctx:n}),E.$set(ne);const ae={};c&2097154&&(ae.$$scope={dirty:c,ctx:n}),P.$set(ae)},i(n){F||(g(e.$$.fragment,n),g(t.$$.fragment,n),g(a.$$.fragment,n),g($.$$.fragment,n),g(p.$$.fragment,n),g(m.$$.fragment,n),g(u.$$.fragment,n),g(v.$$.fragment,n),g(N.$$.fragment,n),g(E.$$.fragment,n),g(P.$$.fragment,n),F=!0)},o(n){b(e.$$.fragment,n),b(t.$$.fragment,n),b(a.$$.fragment,n),b($.$$.fragment,n),b(p.$$.fragment,n),b(m.$$.fragment,n),b(u.$$.fragment,n),b(v.$$.fragment,n),b(N.$$.fragment,n),b(E.$$.fragment,n),b(P.$$.fragment,n),F=!1},d(n){n&&(i(s),i(l),i(r),i(f),i(w),i(d),i(k),i(C),i(h),i(j),i(z)),D(e,n),D(t,n),D(a,n),D($,n),D(p,n),D(m,n),D(u,n),D(v,n),D(N,n),D(E,n),D(P,n)}}}function pe(o){let e,s;return e=new ge({props:{class:"hover:bg-gray-800/50",$$slots:{default:[Xe]},$$scope:{ctx:o}}}),{c(){T(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,l){y(e,t,l),s=!0},p(t,l){const a={};l&2097155&&(a.$$scope={dirty:l,ctx:t}),e.$set(a)},i(t){s||(g(e.$$.fragment,t),s=!0)},o(t){b(e.$$.fragment,t),s=!1},d(t){D(e,t)}}}function Ye(o){let e,s,t=W(o[1]),l=[];for(let r=0;r<t.length;r+=1)l[r]=pe($e(o,t,r));const a=r=>b(l[r],1,1,()=>{l[r]=null});return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=Q()},l(r){for(let $=0;$<l.length;$+=1)l[$].l(r);e=Q()},m(r,$){for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(r,$);_(r,e,$),s=!0},p(r,$){if($&19){t=W(r[1]);let f;for(f=0;f<t.length;f+=1){const p=$e(r,t,f);l[f]?(l[f].p(p,$),g(l[f],1)):(l[f]=pe(p),l[f].c(),g(l[f],1),l[f].m(e.parentNode,e))}for(me(),f=t.length;f<l.length;f+=1)a(f);de()}},i(r){if(!s){for(let $=0;$<t.length;$+=1)g(l[$]);s=!0}},o(r){l=l.filter(Boolean);for(let $=0;$<l.length;$+=1)b(l[$]);s=!1},d(r){r&&i(e),_e(l,r)}}}function Ze(o){let e,s,t,l;return e=new Se({props:{class:"bg-gray-800/50",$$slots:{default:[Me]},$$scope:{ctx:o}}}),t=new Ve({props:{$$slots:{default:[Ye]},$$scope:{ctx:o}}}),{c(){T(e.$$.fragment),s=S(),T(t.$$.fragment)},l(a){A(e.$$.fragment,a),s=V(a),A(t.$$.fragment,a)},m(a,r){y(e,a,r),_(a,s,r),y(t,a,r),l=!0},p(a,r){const $={};r&2097152&&($.$$scope={dirty:r,ctx:a}),e.$set($);const f={};r&2097155&&(f.$$scope={dirty:r,ctx:a}),t.$set(f)},i(a){l||(g(e.$$.fragment,a),g(t.$$.fragment,a),l=!0)},o(a){b(e.$$.fragment,a),b(t.$$.fragment,a),l=!1},d(a){a&&i(s),D(e,a),D(t,a)}}}function xe(o){let e,s,t,l,a,r,$='<h1 class="text-3xl font-bold">Tableau de bord</h1> <div class="relative w-96"></div>',f,p,w,m,d;return s=new Te({}),m=new Ee({props:{$$slots:{default:[Ze]},$$scope:{ctx:o}}}),{c(){e=B("div"),T(s.$$.fragment),t=S(),l=B("div"),a=B("div"),r=B("div"),r.innerHTML=$,f=S(),p=B("div"),w=B("div"),T(m.$$.fragment),this.h()},l(u){e=I(u,"DIV",{class:!0});var k=M(e);A(s.$$.fragment,k),k.forEach(i),t=V(u),l=I(u,"DIV",{class:!0});var v=M(l);a=I(v,"DIV",{class:!0});var C=M(a);r=I(C,"DIV",{class:!0,"data-svelte-h":!0}),K(r)!=="svelte-2miess"&&(r.innerHTML=$),f=V(C),p=I(C,"DIV",{class:!0});var N=M(p);w=I(N,"DIV",{class:!0});var h=M(w);A(m.$$.fragment,h),h.forEach(i),N.forEach(i),C.forEach(i),v.forEach(i),this.h()},h(){L(e,"class","my-10"),L(r,"class","flex items-center justify-between"),L(w,"class","overflow-x-auto"),L(p,"class","rounded-lg border border-gray-700 overflow-hidden bg-gradient-to-br from-gray-900 to-gray-800 text-white"),L(a,"class","max-w-[1400px] mx-auto space-y-6"),L(l,"class","min-h-screen p-6")},m(u,k){_(u,e,k),y(s,e,null),_(u,t,k),_(u,l,k),O(l,a),O(a,r),O(a,f),O(a,p),O(p,w),y(m,w,null),d=!0},p(u,[k]){const v={};k&2097155&&(v.$$scope={dirty:k,ctx:u}),m.$set(v)},i(u){d||(g(s.$$.fragment,u),g(m.$$.fragment,u),d=!0)},o(u){b(s.$$.fragment,u),b(m.$$.fragment,u),d=!1},d(u){u&&(i(e),i(t),i(l)),D(s),D(m)}}}let et="";function tt(o){return Object.values(o).some(e=>e&&e.toString().toLowerCase().includes(et.toLowerCase()))}function G(o){return new Date(o).toLocaleString("fr-FR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}function lt(o,e,s){let t,l=[],a,r="$createdAt",$=-1,f=null;const p={Depart:"depart",Arrival:"arrival",Disponibility:"disponibility","Owner Contact":"ownerContact","V Type":"vType","V Mark":"vMark",Prix:"price",Status:"status","Created At":"$createdAt","Updated At":"$updatedAt"};ve(async()=>{s(5,l=(await Ae()).documents),a=await ye(),(!a||!a.labels.includes("admin"))&&oe("/"),w("Created At"),w("Created At"),Ie.init({duration:1e3,once:!0,offset:0})});function w(h){const E=p[h];if(!l.every(j=>E in j)){console.error(`La colonne "${E}" n'existe pas dans les données.`);return}r===E?$*=-1:(r=E,$=-1),s(5,l=l.sort((j,P)=>{var n,c;const z=((n=j[E])==null?void 0:n.toString().toLowerCase())??"",F=((c=P[E])==null?void 0:c.toString().toLowerCase())??"";return z.localeCompare(F)*$}))}async function m(h,E){console.log(`Changing status for route ${h.$id} to ${E}`),h.status=E;try{const j=await De(h);s(5,l=[...l]),s(0,f=null)}catch(j){console.log(j),alert("PROBLEME LORS DU CHANGEMENT DE STATUS")}}const d=h=>w(h),u=(h,E)=>{E.preventDefault(),s(0,f=f===h.$id?null:h.$id)},k=h=>m(h,1),v=h=>m(h,2),C=h=>m(h,3),N=h=>{oe(`/route/${h.$id}`)};return o.$$.update=()=>{o.$$.dirty&32&&s(1,t=l.filter(tt))},[f,t,p,w,m,l,d,u,k,v,C,N]}class ct extends ke{constructor(e){super(),Ce(this,e,lt,xe,be,{})}}export{ct as component};
