import{s as c,e as m,c as d,l as v,m as p,i as u,n as i,f,k as h,x as g}from"../chunks/scheduler.DbCm1EZj.js";import{S as _,i as x}from"../chunks/index.D3wQGKHW.js";import{p as y}from"../chunks/stores.zp6ArFll.js";import{a as q,s as E}from"../chunks/appwrite.BjT_V8jY.js";import{g as b}from"../chunks/entry.BhbQEfb9.js";function w(r){let e,a='<h1 class="svelte-1qvdd05">Vérification de l&#39;email</h1> <div class="loader svelte-1qvdd05"></div>';return{c(){e=m("div"),e.innerHTML=a,this.h()},l(t){e=d(t,"DIV",{class:!0,"data-svelte-h":!0}),v(e)!=="svelte-1lafvz3"&&(e.innerHTML=a),this.h()},h(){p(e,"class","container svelte-1qvdd05")},m(t,s){u(t,e,s)},p:i,i,o:i,d(t){t&&f(e)}}}function M(r,e,a){let t;h(r,y,l=>a(0,t=l));let s=t.url.searchParams.get("userId")||"",o=t.url.searchParams.get("secret")||"";return console.log(s,o),g(async()=>{if(console.log("id : ",s,"secret : ",o),await q(s,o))await b("/");else{alert("Erreur lors de la vérification de l'email, veuillez réessayer");try{await E()}catch(n){alert("Erreur lors du renvoi de l'email,vous etes possiblement pas connecter"+n),console.error(n)}}}),[]}class H extends _{constructor(e){super(),x(this,e,M,w,c,{})}}export{H as component};
