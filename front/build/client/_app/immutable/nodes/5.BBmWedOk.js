import{s as L,e as p,t as C,a as w,c as m,b as g,d as I,f as v,g as V,m as c,i as B,h as s,n as T,w as D,r as N,v as R}from"../chunks/scheduler.DCdFxilv.js";import{S as $,i as q,c as O,b as j,m as A,t as H,a as W,d as F}from"../chunks/index.B3GOgTKi.js";import{v as G}from"../chunks/appwrite.lKEAsTKx.js";function J(a){let e,t,n=a[3][P].phoneNumber+"",i,d,o,f,y,b,l,r,u=a[3][P].sendCode+"",h,E,x;return{c(){e=p("div"),t=p("label"),i=C(n),d=w(),o=p("input"),f=w(),y=p("br"),b=w(),l=p("div"),r=p("button"),h=C(u),this.h()},l(k){e=m(k,"DIV",{class:!0});var _=g(e);t=m(_,"LABEL",{for:!0,class:!0});var z=g(t);i=I(z,n),z.forEach(v),d=V(_),o=m(_,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0,pattern:!0,title:!0}),f=V(_),y=m(_,"BR",{}),b=V(_),l=m(_,"DIV",{class:!0});var S=g(l);r=m(S,"BUTTON",{class:!0});var U=g(r);h=I(U,u),U.forEach(v),S.forEach(v),_.forEach(v),this.h()},h(){c(t,"for","telephone"),c(t,"class","block text-sm font-medium text-amstram-black"),c(o,"id","telephone"),c(o,"type","text"),c(o,"placeholder",a[3][P].enterPhoneNumber),c(o,"class","text-black mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md text-sm shadow-sm placeholder-gray-400 focus:outline-none focus:border-black focus:ring-1 focus:ring-black"),o.required=!0,c(o,"pattern","^\\+.*"),c(o,"title","Le numéro de téléphone doit commencer par un +."),c(r,"class","bg-amstram-purple text-white font-bold py-2 px-4 rounded"),c(l,"class","text-center"),c(e,"class","phone-verification-container")},m(k,_){B(k,e,_),s(e,t),s(t,i),s(e,d),s(e,o),D(o,a[2]),s(e,f),s(e,y),s(e,b),s(e,l),s(l,r),s(r,h),E||(x=[N(o,"input",a[6]),N(o,"input",a[7]),N(r,"click",a[4])],E=!0)},p(k,_){_&4&&o.value!==k[2]&&D(o,k[2])},d(k){k&&v(e),E=!1,R(x)}}}function K(a){let e,t,n,i,d,o,f,y=a[3][P].verifyCode+"",b,l,r;return{c(){e=p("div"),t=p("input"),n=w(),i=p("br"),d=w(),o=p("div"),f=p("button"),b=C(y),this.h()},l(u){e=m(u,"DIV",{class:!0});var h=g(e);t=m(h,"INPUT",{type:!0,class:!0,placeholder:!0}),n=V(h),i=m(h,"BR",{}),d=V(h),o=m(h,"DIV",{class:!0});var E=g(o);f=m(E,"BUTTON",{class:!0});var x=g(f);b=I(x,y),x.forEach(v),E.forEach(v),h.forEach(v),this.h()},h(){c(t,"type","text"),c(t,"class","text-black mt-1 block w-full px-3 py-2 bg-gray-100 border border-gray-300 rounded-md text-sm shadow-sm placeholder-gray-400 focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500"),c(t,"placeholder","Entrez le code"),c(f,"class","bg-amstram-purple text-white font-bold py-2 px-4 rounded"),c(o,"class","text-center"),c(e,"class","p-8")},m(u,h){B(u,e,h),s(e,t),D(t,a[1]),s(e,n),s(e,i),s(e,d),s(e,o),s(o,f),s(f,b),l||(r=[N(t,"input",a[5]),N(f,"click",a[4])],l=!0)},p(u,h){h&2&&t.value!==u[1]&&D(t,u[1])},d(u){u&&v(e),l=!1,R(r)}}}function M(a){let e,t,n,i,d=a[3][P].title+"",o,f;function y(r,u){return r[0]?K:J}let b=y(a),l=b(a);return{c(){e=p("div"),t=p("div"),n=p("div"),i=p("h1"),o=C(d),f=w(),l.c(),this.h()},l(r){e=m(r,"DIV",{class:!0});var u=g(e);t=m(u,"DIV",{class:!0});var h=g(t);n=m(h,"DIV",{class:!0});var E=g(n);i=m(E,"H1",{class:!0});var x=g(i);o=I(x,d),x.forEach(v),f=V(E),l.l(E),E.forEach(v),h.forEach(v),u.forEach(v),this.h()},h(){c(i,"class","text-center text-2xl font-bold mb-4 text-amstram-black"),c(n,"class","container max-w-md p-4"),c(t,"class","flex justify-center p-4 bg-gray-300"),c(e,"class","w-full max-w-md bg-white rounded-lg shadow-xl overflow-hidden")},m(r,u){B(r,e,u),s(e,t),s(t,n),s(n,i),s(i,o),s(n,f),l.m(n,null)},p(r,[u]){b===(b=y(r))&&l?l.p(r,u):(l.d(1),l=b(r),l&&(l.c(),l.m(n,null)))},i:T,o:T,d(r){r&&v(e),l.d()}}}let P="fr";function Q(a,e,t){let{sms_sent:n=!0}=e,i="",d="";const o={fr:{title:"Vérification du téléphone",phoneNumber:"Numéro de téléphone",enterPhoneNumber:"Entrez votre numéro de téléphone",sendCode:"Envoyer le code",verifyCode:"Vérifier le code"},en:{title:"Phone verification",phoneNumber:"Phone number",enterPhoneNumber:"Enter your phone number",sendCode:"Send code",verifyCode:"Verify code"}};async function f(){try{const r=await G(i);r||alert("Code incorrect, ou autre erreur, veuillez réessayer"),console.log("RES ",r)}catch(r){alert("Code incorrect , veuillez réessayer"),console.error(r)}}function y(){i=this.value,t(1,i)}function b(){d=this.value,t(2,d)}const l=r=>{d.startsWith("0")&&t(2,d="+33"+d.slice(1))};return a.$$set=r=>{"sms_sent"in r&&t(0,n=r.sms_sent)},[n,i,d,o,f,y,b,l]}class X extends ${constructor(e){super(),q(this,e,Q,M,L,{sms_sent:0})}}function Y(a){let e,t;return e=new X({}),{c(){O(e.$$.fragment)},l(n){j(e.$$.fragment,n)},m(n,i){A(e,n,i),t=!0},p:T,i(n){t||(H(e.$$.fragment,n),t=!0)},o(n){W(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}class re extends ${constructor(e){super(),q(this,e,null,Y,L,{})}}export{re as component};
